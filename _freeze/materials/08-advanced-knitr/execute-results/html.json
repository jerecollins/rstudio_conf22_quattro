{
  "hash": "f653a846fae77138aab86487eb571740",
  "result": {
    "markdown": "---\nformat: \n  revealjs:\n    slide-number: true\n    width: 1920\n    height: 1080\n    logo: \"https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-Flat.png\"\n    footer: \"[Get started with Quarto](https://rstudio-conf-2022.github.io/get-started-quarto/)\"\n    css: [\"theme/theme.css\"]\n    theme: simple\n    echo: true\neditor: source\neditor_options:\n  markdown:\n    canonical: true\n---\n\n\n#  {background-image=\"images/watermelon.jpg\" background-position=\"right\" background-size=\"contain\" background-color=\"#447098\"}\n\n::: {style=\"font-size: 100px;\"}\n08 - Advanced<br>Quarto +`knitr`\n:::\n\n\n\n\n\n## Parameters\n\nYou may have a set of parameters that are used to create different variations of a report. For example:\n\n-   Showing results for a specific geographic location.\n-   Running a report that covers a specific time period.\n-   Running a single analysis multiple times for different assumptions.\n\n## `knitr` parameters\n\n``` yaml\n---\ntitle: \"My Document\"\nparams:\n  alpha: 0.1\n  ratio: 0.1\n---\n```\n\n. . .\n\n``` bash\nquarto render file.qmd -P alpha:0.2 -P ratio:0.3\n```\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquarto::quarto_render(execute_params = list(alpha = 0.2, ratio = 0.3))\n```\n:::\n\n\n## Accessing parameters\n\nParameters are accessed as `params$NAME` in the document.\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparams$alpha # returns 0.1\nparams$ratio # returns 0.1\n```\n:::\n\n\n. . .\n\nOr in inline code `r params$NAME`\n\n## Paramaterized report\n\n``` yaml\n---\ntitle: \"Penguins\"\ndate: 2020-08-11\nformat: html\nparams:\n  species: Adelie\n---\n```\n\n    ```{{r setup}}\n    #| inclue: false\n    library(tidyverse)\n    library(palmerpenguins)\n    smaller <- penguins |> \n      filter(species == params$species, \n             !is.na(body_mass_g))\n    ```\n\n    We have data about `r nrow(penguins)` penguins. \n    The distribution of the \n    `r params$species` penguins are shown below:\n\n    ```{{r}}\n    #| echo: false\n    smaller |> \n      ggplot(aes(body_mass_g)) + \n      geom_histogram(binwidth = 100)\n    ```\n\n## Rendering\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquarto::quarto_render(\n  \"penguin-params.qmd\",\n  execute_params = list(species = \"Chinstrap\"),\n  output_file = \"choose-chinstrap.html\"\n)\n```\n:::\n\n\n. . .\n\n<br> Directory matters!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_fun <- function(penguin){\n  quarto::quarto_render(\n    \"materials/workshop/08-knitr/penguin-params.qmd\",\n    execute_params = list(species = penguin),\n    output_file = glue::glue(\n      \"materials/workshop/08-knitr/{penguin}-report.html\"\n      )\n  )\n}\n```\n:::\n\n\n. . .\n\n<br> Use `purrr` to iterate across the distinct species\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguin_names <- \n  distinct(penguins, species) |> \n  pull() |> \n  as.character() \npenguin_names\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Adelie\"    \"Gentoo\"    \"Chinstrap\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npenguin_names |> \n  purrr::walk(render_fun) # or lapply(penguin_names, render_fun)\n```\n:::\n\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z\"/></svg>`{=html} Your Turn {background-color=\"#447099\"}\n\n-   Open `materials/workshop/08-knitr/penguin-params.qmd`\n-   Open `materials/workshop/08-knitr/render-params.R`\n-   Follow the instructions in `render-params.R`\n\n## Commenting\n\nThis page has commenting with Hypothes.is enabled via the following YAML option:\n\n    comments:\n      hypothesis: true\n\n<iframe src=\"https://quarto.org/docs/output-formats/html-basics.html#commenting\" height=\"800px\" width=\"1400px\">\n\n</iframe>\n\n## Conditional content\n\n``` markdown\n::: {.content-visible when-format=\"html\"}\n\nWill only appear in HTML.\n\n:::\n```\n\n. . .\n\n``` markdown\n::: {.content-visible unless-format=\"pdf\"}\n\nWill not appear in PDF.\n\n:::\n```\n\n## Quarto Extensions\n\n> Quarto Extensions are a powerful way to modify or extend the behavior of Quarto, and can be created and distributed by anyone. There are two types of extensions available:\n\n-   [Shortcodes](https://quarto.org/docs/extensions/shortcodes.html) are special markdown directives that generate various types of content. For example, you could create shortcodes to embed tweets or videos in a document.\n\n-   [Filters](https://quarto.org/docs/extensions/filters.html) are a flexible and powerful tool for introducing new global behaviors and/or new markdown rendering behaviors. For example, you could create filters to implement output folding, an image carousel, or just about anything you can imagine!\n\n. . .\n\nNote that you *have* to use at least version Quarto `v1.0.15` to use extensions\n\n. . .\n\nAvailable extensions can be found at: <https://github.com/quarto-ext/>\n\n## Extensions\n\nExtensions are project-specific installs, installed into `_extensions` directory in your Quarto Project (or any directory where you want to affect `quarto render`).\n\nThe Quarto team will develop extensions and host at `quarto-ext`, but you can also download extensions from the community.\n\n::: callout-caution\n## Extension Trust\n\nIt's important to note that Quarto extensions may execute code when documents are rendered. If you do not trust the authors of an extension, we recommend that you do not install or use the extension.\n:::\n\n## Managing extensions\n\nYou can install extensions directly from Quarto!\n\n``` bash\ncd MyQuartoProject # or any directory\nquarto install extension quarto-ext/lightbox\n```\n\n. . .\n\n``` bash\nquarto list extensions # list all installed extensions\nquarto update extension quarto-ext/fontawesome # update specific extension\nquarto remove extension quarto-ext/fontawesome # remove specific extension\n```\n\n<br>\n\n. . .\n\n### Extensions + Version control\n\n> If you are using version control you should check the \\_extensions directory in to your repo along with your other code. Installed extensions are treated as source code for your project to ensure very long term reproducibility---your project doesn't need to rely on the availability of an external package manager (or the maintenance of older extension versions) to successfully render now and far into the future.\n\n## Install Flow\n\n``` bash\nthomasmock$ quarto install extension quarto-ext/fontawesome\n```\n\n<br>\n\n. . .\n\n    Quarto extensions may execute code when documents are rendered. If you do not \n    trust the authors of the extension, we recommend that you do not install or \n    use the extension.\n     ? Do you trust the authors of this extension (Y/n) › Yes\n    [✓] Downloading\n    [✓] Unzipping\n        Found 1 extension.\n\n<br>\n\n. . .\n\n    The following changes will be made:\n    Font Awesome support   [Install]   0.0.1 (shortcode)\n     ? Would you like to continue (Y/n) › Yes\n\n    [✓] Extension installation complete.\n    Learn more about this extension at https://github.com/quarto-ext/fontawesome\n\n<br>\n\n. . .\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{bash}}\nquarto list extensions\n```\n````\n\n\n::: {.cell-output .cell-output-stdout}\n```\nId                            Version    Contributes\nquarto-ext/fontawesome        0.0.1      shortcodes \nquarto-ext/lightbox           0.0.1      filters    \nquarto-ext/grouped-tabsets    0.0.1      filters    \n```\n:::\n:::\n\n\n## Check `fontawesome`\n\nThere once was a {{< fa dog >}} who was lost at {{< fa water >}}\n\nHe was rescued by a {{< fa sailboat >}} and a wee {{< fa life-ring >}}\n\n<br>\n\n. . .\n\n``` code\nThere once was a {{{< fa dog >}}} who was lost at {{{< fa water >}}}\n\nHe was rescued by a {{{< fa sailboat >}}} and a wee {{{< fa life-ring >}}}\n```\n\n## Lightbox extension\n\n``` code\n---\ntitle: Simple GLightbox Example\nfilters:\n   - glightbox\nlightbox: auto\n---\n\n![A Lovely Image](mv-1.jpg)\n```\n\n. . .\n\n``` code\n![Don't lightbox me!](mv-1.jpg){.nolightbox}\n```\n\n<br>\n\n. . .\n\n``` code\n---\ntitle: Simple Lightbox Example\nfilters:\n   - lightbox\n---\n\n![A Lovely Image](mv-1.jpg){.lightbox}\n```\n\n## Lightbox position + groups\n\n| **Option**      | **Description**                                                                                                                     |\n|-----------------|-------------------------------------------------------------------------------------------------------------------------------------|\n| `desc-position` | The position of the title and description when displaying a lightbox. One of `top`, `bottom`, `left`, `right`. Defaults to `bottom` |\n\n. . .\n\n``` code\n![A Lovely Image](mv-1.jpg){group=\"my-gallery\"\n\n![Another Lovely Image](mv-2.jpg){group=\"my-gallery\"\n\n![The Last Lovely Image](mv-3.jpg){group=\"my-gallery\"}\n```\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z\"/></svg>`{=html} Your Turn {background-color=\"#447099\"}\n\n-   Open `materials/workshop/08-knitr/lightbox-extension.qmd`\n-   Explore and render it!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    function fireSlideChanged(previousSlide, currentSlide) {\n\n      // dispatch for htmlwidgets\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for reveal\n    if (window.Reveal) {\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\n        fireSlideChanged(event.previousSlide, event.currentSlide);\n      });\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}